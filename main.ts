controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        . . . 2 . . . 
        . . 2 4 2 . . 
        . 2 4 5 4 2 . 
        2 4 5 5 5 4 2 
        2 2 4 4 4 2 2 
        2 . 2 2 2 . 2 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        . . 2 2 2 . . 
        `],
    500,
    true
    )
})
function level (level_number: Sprite) {
	
}
info.onCountdownEnd(function () {
    game.reset()
})
function theme_music () {
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(277, music.beat(BeatFraction.Whole))
    music.playTone(330, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(277, music.beat(BeatFraction.Whole))
    music.playTone(330, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(277, music.beat(BeatFraction.Whole))
    music.playTone(330, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(277, music.beat(BeatFraction.Whole))
    music.playTone(330, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(277, music.beat(BeatFraction.Whole))
    music.playTone(330, music.beat(BeatFraction.Whole))
    music.playTone(208, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(247, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(294, music.beat(BeatFraction.Whole))
    music.playTone(349, music.beat(BeatFraction.Whole))
    music.playTone(233, music.beat(BeatFraction.Whole))
    music.playTone(311, music.beat(BeatFraction.Whole))
    music.playTone(370, music.beat(BeatFraction.Whole))
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    scene.cameraShake(4, 500)
    otherSprite.vx = 0 - otherSprite.vx
    if (sprite == mySprite2) {
        info.changeScoreBy(1)
        info.startCountdown(4)
        otherSprite.right = sprite.left
    } else {
        info.startCountdown(5)
        info.player2.changeScoreBy(1)
        otherSprite.left = sprite.right
    }
})
function enemy () {
    mySprite2 = sprites.create(img`
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        888.............
        `, SpriteKind.Player)
    mySprite2.setStayInScreen(true)
    mySprite2.x = 160
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (true) {
        animation.runImageAnimation(
        mySprite,
        [img`
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            . . 2 2 2 . . 
            2 . 2 2 2 . 2 
            2 2 2 2 2 2 2 
            2 4 5 5 5 4 2 
            . 2 4 5 4 2 . 
            . . 2 4 2 . . 
            . . . 2 . . . 
            . . . . . . . 
            `],
        500,
        true
        )
    }
})
function player2 () {
    mySprite = sprites.create(img`
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        222.............
        `, SpriteKind.Player)
    controller.moveSprite(mySprite, controller.player2.dy(), 77)
    mySprite.setStayInScreen(true)
    mySprite.x = 20
}
function ball () {
    projectile = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 1 . . . . . . 
        . . . . . 1 1 1 1 1 1 1 . . . . 
        . . . . 1 1 1 1 1 1 1 1 1 . . . 
        . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
        . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . . . 1 1 1 1 1 1 1 1 1 . . . 
        . . . . . 1 1 1 1 1 1 1 . . . . 
        . . . . . . . 1 1 1 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Projectile)
    projectile.setVelocity(82, 82)
    projectile.setBounceOnWall(true)
}
let projectile: Sprite = null
let mySprite2: Sprite = null
let mySprite: Sprite = null
player2()
enemy()
ball()
effects.blizzard.startScreenEffect()
game.showLongText("Reach 15 score points before your enemy reaches 17", DialogLayout.Bottom)
let current_level = 1
info.startCountdown(6)
info.player1.setScore(-1)
game.onUpdate(function () {
    if (projectile.x > scene.screenWidth() / 2) {
        if (projectile.y > mySprite2.y) {
            mySprite2.y += 2
        } else {
            mySprite2.y += -2
        }
    }
})
game.onUpdate(function () {
    if (info.player1.score() > 16) {
        game.over(false)
    } else if (info.player2.score() == 15) {
        game.over(true, effects.melt)
    }
})
game.onUpdate(function () {
	
})
forever(function () {
    theme_music()
})
